# 最终行动方案 - 2026-01-26

## 🎯 核心决策

### 继续使用 Python 方案

**理由**:
1. ⏱️ **时间紧迫**: 剩余33小时，Python方案可按时完成
2. 📊 **完成度高**: 已完成80%，只需解决20%的问题
3. 🎓 **团队熟悉**: Python技术栈，无需学习新知识
4. 🏆 **评分保证**: 完整度高，至少能完成演示
5. 🚀 **性能达标**: Python方案理论上能达到 <500ms

### ❌ 不推荐切换到 C++ 方案

**理由**:
1. ⏰ **时间不足**: 需要24-48小时，远超剩余33小时
2.  **风险高**: 可能无法按时完成，导致提交不完整
3. 📉 **投入产出比低**: 相比Python方案仅提升5-10%的评分
4. 🤔 **团队不熟悉**: 需要学习新知识，增加失败风险

## 📋 优先级行动计划

### 🚨 高优先级（今天必须完成）

#### 1. 测试 GenieContext 初始化（立即执行）

**目的**: 找出为什么GenieContext创建卡住

**操作**:
```bash
cd c:\test\antinet
test_genie_init.bat
```

**预期结果**:
- 如果测试2成功（GenieContext(config_path, True)），使用该参数
- 如果测试3成功（llama3.2-3b），切换到更小的模型
- 如果所有测试都失败，准备使用Mock推理

**耗时**: 15-30分钟

#### 2. 提交技术问题给高通（立即执行）

**文档**: `TECHNICAL_SUPPORT_QUESTIONS.md`

**提交渠道**:
1. **高通开发者论坛**: https://bbs.csdn.net/forums/qualcomm?typeId=9305416
2. **微信答疑群**: 复赛官方群

**重点问题**:
- 问题1: GenieContext 创建卡住
- 问题2: qai_hub_models 是否必须安装
- 问题5: 推理延迟优化方案

**耗时**: 30分钟

#### 3. 查找官方示例代码（1小时内完成）

**目的**: 参考官方实现，找出问题所在

**操作**:
```bash
# 查看 GenieSample.py
type C:\ai-engine-direct-helper\samples\genie\python\GenieSample.py

# 查看其他示例
dir C:\ai-engine-direct-helper\samples /s /b | findstr /I genie
```

**关键点**:
- GenieContext 的正确调用方式
- 是否需要特殊的初始化步骤
- 性能模式的设置方法

**耗时**: 1小时

#### 4. 准备备用方案（2小时内完成）

**目的**: 如果NPU完全不可用，确保至少能完成演示

**方案A: Mock推理**
```python
# 在 backend/models/model_loader.py 添加
class MockNPUModelLoader:
    """模拟NPU加载器，用于演示"""
    def load(self):
        print("[MOCK] 使用模拟NPU加载器")
        return None

    def infer(self, prompt, **kwargs):
        # 返回预设的响应
        return "这是模拟的NPU推理结果，用于演示"
```

**方案B: 使用更小的模型**
```python
# 修改配置，使用 llama3.2-3b
MODEL_NAME: str = "llama3.2-3b"
MODEL_PATH: Path = Path("C:/model/llama3.2-3b-8380-qnn2.37")
```

**方案C: 降低性能要求**
- PPT中说明：由于技术限制，推理延迟为 800ms
- 重点展示：功能完整性、用户体验、商业价值

**耗时**: 2小时

### 📊 中优先级（今天完成）

#### 5. 准备演示材料（3-4小时）

**演示视频（≤3分钟）**

**内容结构**:
```
0:00 - 0:30  项目介绍（背景、痛点、解决方案）
0:30 - 1:30  核心功能演示（自然语言查询 -> 四色卡片）
1:30 - 2:15  技术亮点（架构、算力分配、隐私保护）
2:15 - 3:00  总结和创新点
```

**录制建议**:
- 使用OBS或屏幕录制软件
- 确保画面清晰，声音清楚
- 提前写好脚本，避免卡顿
- 如果NPU不可用，使用Mock录制

**PPT 概述（必交）**

**包含内容**:
1. 项目背景与应用场景
2. 技术架构与算法说明
3. **AIPC 端侧部署与性能表现**（10%权重）⭐️
   - 模型运行算力单元说明
   - 算力选择理由
   - 端侧运行效果
   - 异构计算使用情况（如有）
4. 创新性与前瞻性
5. 商业应用与场景价值

**关键章节**:
```
第X章: AIPC 技术适配
- 算力分配:
  * CPU: 控制逻辑 (~20%)
  * NPU: 核心推理 (~60-70%)
  * GPU: 图像处理 (~10%)

- 算力选择理由:
  * NPU vs CPU: 性能提升 3-5x
  * NPU vs GPU: 功耗降低 50%
  * 体验影响: 响应速度 < 500ms

- 端侧运行效果:
  * 推理延迟: XXXms（目标 < 500ms）
  * CPU vs NPU 加速比: X.Xx
  * 内存占用: ~1.5GB
```

**耗时**: 3-4小时

#### 6. 性能基准测试（1-2小时）

**目的**: 获取真实的性能数据，用于PPT和演示

**测试脚本**:
```bash
# 使用测试脚本
python backend/test_model_performance.py

# 或手动测试
curl -X POST "http://localhost:8000/api/npu/benchmark"
```

**测试内容**:
- 不同输入长度的推理延迟（32/64/128/256 tokens）
- 多次推理的平均延迟
- 内存占用
- CPU vs NPU 加速比（如果可用）

**耗时**: 1-2小时

### 🎬 低优先级（明天完成）

#### 7. 打包提交材料（2小时）

**提交格式**:
```
文件命名: AIPC-通用赛-[团队名称].zip
文件大小: ≤ 200MB

推荐结构:
/
├── Video/
│   └── 演示视频.mp4
├── PPT/
│   └── 项目说明.pptx
├── Doc/（可选）
│   ├── 技术文档.pdf
│   └── API_REFERENCE.md
└── Code/（可选）
    ├── frontend/
    ├── backend/
    └── README.md
```

**检查清单**:
- [ ] 视频时长 ≤ 3分钟
- [ ] PPT包含所有必需章节
- [ ] 文件命名正确
- [ ] 文件大小 ≤ 200MB
- [ ] 可选材料完整

**耗时**: 2小时

#### 8. 提前提交（安全起见）

**截止时间**: 2026-01-27 21:00

**建议时间**: 2026-01-27 15:00（提前6小时）

**提交地址**: https://qc-ai-challenge.cvmart.net/2025

**提交路径**: 官网 -> 入围赛题 -> 作品提交 -> 提交作品

**耗时**: 30分钟

##  关于 EasyOCR 的澄清

### ❌ 不推荐安装 EasyOCR

**理由**:
1. **性能问题**: CPU推理慢，不符合 <500ms 要求
2. **架构不一致**: 已有Qwen2.0-7B-SSD用于NPU推理
3. **不需要额外依赖**: Qwen模型可以处理文本理解

### 推荐的OCR方案

#### 方案1: 使用预装模型（强烈推荐）

```python
# 使用Qwen2.0-7B-SSD进行文本理解
from models.model_loader import NPUModelLoader

loader = NPUModelLoader("qwen2-7b-ssd")
model = loader.load()

# 文本理解
result = loader.infer("识别图片中的文字内容")
```

**优势**:
- 使用NPU，推理快
- 不需要额外安装
- 与现有架构一致

#### 方案2: 查找预装OCR模型

```bash
# 检查是否预装了OCR相关的模型
dir C:/model /s /b | findstr /I "ocr text detect"
```

#### 方案3: 如果必须用OCR（备用）

```python
# PaddleOCR（推荐，性能好）
from paddleocr import PaddleOCR
ocr = PaddleOCR(use_angle_cls=True, lang='ch')

# EasyOCR（备用，简单但慢）
import easyocr
reader = easyocr.Reader(['ch_sim', 'en'])
```

**注意**: 这些都是CPU推理，速度慢，仅作为备用方案

## 🛠️ 可用的工具和脚本

| 脚本 | 功能 | 使用场景 |
|------|------|---------|
| `test_genie_init.bat` | 测试GenieContext初始化 | 诊断问题 |
| `start_and_test.bat` | 启动后端和测试 | 正常使用 |
| `verify_npu_inference.py` | 验证配置 | 修复前后验证 |
| `check_npu_processes.py` | 检查NPU占用 | 诊断占用 |
| `fix_npu_device.bat` | 自动修复NPU占用 | 快速修复 |
| `TECHNICAL_SUPPORT_QUESTIONS.md` | 技术问题清单 | 提交给高通 |
| `CPP_VS_PYTHON_ANALYSIS.md` | C++ vs Python对比 | 技术决策参考 |

## 📞 紧急联系渠道

### 高通官方支持

1. **开发者论坛**（推荐）
   - 地址: https://bbs.csdn.net/forums/qualcomm?typeId=9305416
   - 步骤: 发帖 -> 复制链接到微信群/私聊小助手

2. **微信答疑群**
   - 已在复赛群中
   - 工作时间: 9:00-18:00
   - 专人解答

3. **高频问答合集**
   - 地址: https://doc.weixin.qq.com/sheet/e3_AQ0ACwY5AGoCNcUcN17rjTEeXpO8S

### 团队内部协调

**建议分工**:
- **技术负责人**: 专注于解决GenieContext问题
- **产品负责人**: 准备PPT和演示视频
- **测试负责人**: 性能基准测试和功能验证

## ⏰ 时间线总结

### 今天（2026-01-26）- 剩余时间: 约12小时

| 时间 | 任务 | 优先级 | 耗时 |
|------|------|--------|------|
| 12:00-12:30 | 测试GenieContext初始化 | 🚨 高 | 30min |
| 12:30-13:00 | 提交技术问题给高通 | 🚨 高 | 30min |
| 13:00-14:00 | 查找官方示例代码 | 🚨 高 | 1h |
| 14:00-16:00 | 准备备用方案 | 🚨 高 | 2h |
| 16:00-20:00 | 准备演示材料（视频+PPT） | 📊 中 | 4h |
| 20:00-22:00 | 性能基准测试 | 📊 中 | 2h |
| 22:00-24:00 | 整理和休息 | 🎬 低 | 2h |

### 明天（2026-01-27）- 剩余时间: 约21小时

| 时间 | 任务 | 优先级 | 耗时 |
|------|------|--------|------|
| 09:00-11:00 | 打包提交材料 | 🎬 低 | 2h |
| 11:00-15:00 | 最后检查和测试 | 🎬 低 | 4h |
| 15:00-16:00 | 提前提交作品 | 🎬 低 | 1h |
| 16:00-21:00 | 准备答辩或休息 | 🎬 低 | 5h |

## 检查清单

### 提交前检查（2026-01-27 15:00前）

- [ ] 演示视频录制完成
- [ ] 视频时长 ≤ 3分钟
- [ ] PPT准备完成，包含所有必需章节
- [ ] AIPC技术适配章节完整（10%评分）
- [ ] 演示视频展示真实运行效果
- [ ] 性能数据收集完成（推理延迟、加速比）
- [ ] 提交材料打包完成
- [ ] 文件命名正确（AIPC-通用赛-[团队名称].zip）
- [ ] 文件大小 ≤ 200MB
- [ ] 提前提交（预留6小时缓冲）

### 技术完成度检查

- [ ] 后端服务可正常启动
- [ ] API接口功能完整（分析、性能测试、健康检查）
- [ ] 前端界面正常显示
- [ ] 数据库正常工作
- [ ] 8-Agent系统正常
- [ ] NPU推理功能（或Mock）正常
- [ ] 四色卡片系统正常
- [ ] 数据分析功能正常

## 🎯 成功标准

### 最低标准（必须达到）
- 后端服务可正常启动
- 演示视频完成，展示核心功能
- PPT完成，包含AIPC技术适配章节
- 提交材料完整，按时提交

### 理想标准（尽力争取）
- NPU推理功能正常，推理延迟 < 500ms
- 性能数据完整，有CPU vs NPU对比
- 演示流畅，无卡顿
- 创新点突出，商业价值清晰

##  最终提醒

### 核心原则
1. ⏰ **时间优先**: 在有限时间内最大化完成度
2. **质量其次**: 宁可功能简单但完整，不要复杂但不完整
3. 🎯 **评分导向**: 重点准备10%的AIPC技术适配评分
4. 🚀 **Python方案**: 不要切换到C++，风险太高

### 关键决策
- **继续Python方案**: 风险低，可按时完成
- ❌ **不切换到C++**: 时间不足，风险高
- **准备备用方案**: 确保至少能完成演示
- **提前提交**: 避免21:00截止时出现问题

### 紧急情况处理

**如果GenieContext问题无法解决**:
1. 使用Mock推理进行演示
2. 在PPT中说明技术限制
3. 重点展示功能完整性和用户体验
4. 商业价值和创新点依然可以得分

**如果时间不够**:
1. 优先保证演示视频和PPT
2. 简化API功能，确保核心可用
3. 提前提交，不要等到最后一刻
4. 准备补充材料（可选），在截止后如果可以补充

---

**更新日期**: 2026-01-26
**截止时间**: 2026-01-27 21:00
**剩余时间**: 约33小时

**结论**: 继续Python方案，重点准备演示材料和PPT，确保按时提交
